oboutGrid.prototype.initFilterRelatedProperties=function(){this.FilterContainer=oboutUtils.getById(this.ElementsClientIds.FilterContainerID);this.RemovableDOMObjects.push(["FilterContainer",true]);this.FilteringButtonsConfigurationContainer=oboutUtils.getById(this.ElementsClientIds.FilteringButtonsConfigurationContainerID);this.RemovableDOMObjects.push(["FilteringButtonsConfigurationContainer",true]);this.FilterButtonsContainer=oboutUtils.getById(this.ElementsClientIds.FooterFilterLinksContainerID);this.RemovableDOMObjects.push("FilterButtonsContainer");this.TopFilterButtonsContainer=oboutUtils.getById(this.ElementsClientIds.TopFooterFilterLinksContainerID);this.RemovableDOMObjects.push("TopFilterButtonsContainer");this.ClientFilterExpressionContainer=oboutUtils.getById(this.ElementsClientIds.ClientFilterExpressionContainerID);this.RemovableDOMObjects.push("ClientFilterExpressionContainer");this.FilterCriteriaForColumnIndex=-1;this.FilterButtonsTemplatesContainer=oboutUtils.getById(this.ElementsClientIds.FilterButtonsTemplatesContainerID);this.RemovableDOMObjects.push("FilterButtonsTemplatesContainer");this.FilterOptionsTemplatesContainer=oboutUtils.getById(this.ElementsClientIds.FilterOptionsTemplatesContainerID);this.RemovableDOMObjects.push("FilterOptionsTemplatesContainer");this.FilterScrollingSettingsInitialized=false;this.FILTER_CRITERIA__NO_FILTER=0;this.initializeFilterFieldsAndCriterias();OboutGridFilterCriteria.init();this.FilterCriterias=null};oboutGrid.prototype.initializeFilterFieldsAndCriterias=function(){if(this.FilteringButtonsConfigurationContainerTempValue!="")this.FilteringButtonsConfigurationContainer.value=this.FilteringButtonsConfigurationContainerTempValue;var g=",";if(this.ClientFilterExpressionContainer.value!=this.htmlDecode(this.ClientFilterExpressionContainer.nextSibling.innerHTML))this.ClientFilterExpressionContainer.value=this.htmlDecode(this.ClientFilterExpressionContainer.nextSibling.innerHTML);if(this.ClientFilterExpressionContainer.value!="")for(var h=this.ClientFilterExpressionContainer.value.split(this.ArrayElementsSeparatorEncoded),c=0;c<h.length;c++){for(var d=h[c].split(this.ObjectPropertiesSeparatorEncoded),j=d[0],a=null,e=-1,b=0;b<this.ColumnsCollection.length;b++)if(this.ColumnsCollection[b].DataField==j){a=this.ColumnsCollection[b];e=b;break}filterType=d[1];a.FilterOptionsDDL&&a.FilterOptionsDDL.value(filterType);a.HasCustomFilterOptionsWithTemplates&&this.loadFilterOptionTemplate(e);a.CurrentFilterValues=[];for(var f=this.getCurrentFilterControls(a),b=0;b<f.length;b++){a.CurrentFilterValues.push(d[2+b]);this.setValueOfFilterControl(f[b].Control,f[b].PropertyName,d[2+b])}g+=e+","}for(var c=0;c<this.ColumnsCollection.length;c++){var a=this.ColumnsCollection[c];if(a.AllowFilter)if(g.indexOf(","+c+",")==-1){a.CurrentFilterValues=[];a.FilterOptionsDDL&&a.FilterOptionsDDL.value(a.DefaultFilterOptionID);a.HasCustomFilterOptionsWithTemplates&&this.loadFilterOptionTemplate(c)}}if(this.ClientSideEvents.OnPopulatingFilterFields!=null){var i=this.getColumnsWithFilterControls();this.raiseClientEvent(this.ClientSideEvents.OnPopulatingFilterFields,i)}};oboutGrid.prototype.showFilter=function(){this.FilterContainer.style.display="";var a=this.getFilterButtonsConfiguration();if(a=="1")this.setFilterButtonsConfiguration("2,3",true);else if(a=="1,4")this.setFilterButtonsConfiguration("2,3,4",true);else this.setFilterButtonsConfiguration("2,3",true);this.ensureVerticalScrollingInSynch()};oboutGrid.prototype.hideFilter=function(){this.FilterContainer.style.display="none";var a=this.getFilterButtonsConfiguration();if(a=="2,3")this.setFilterButtonsConfiguration("1",true);else a=="2,3,4"&&this.setFilterButtonsConfiguration("1,4",true);this.ensureVerticalScrollingInSynch()};oboutGrid.prototype.getFilterExpression=function(){for(var e=[],d=0;d<this.ColumnsCollection.length;d++){var b=this.ColumnsCollection[d];if(b.DataField!=""&&b.AllowFilter==true){var a=b.DefaultFilterOptionID;if(b.ShowFilterCriterias)a=b.FilterOptionsDDL.value();var c=this.getValueOfCurrentFilterControls(b);c=c.join(this.ObjectPropertiesSeparatorEncoded);a!=this.FILTER_CRITERIA__NO_FILTER&&(c!=""||a==OboutGridFilterCriteria.IsNull||a==OboutGridFilterCriteria.IsNotNull||a==OboutGridFilterCriteria.IsEmpty||a==OboutGridFilterCriteria.IsNotEmpty)&&e.push(b.DataField+this.ObjectPropertiesSeparatorEncoded+a+this.ObjectPropertiesSeparatorEncoded+c)}}var f=e.join(this.ArrayElementsSeparatorEncoded);return f};oboutGrid.prototype.filter=function(b,a){if(typeof a=="undefined")a=false;if(this.ClientSideEvents.OnFiltering!=null){var c=this.getColumnsWithFilterControls();if(this.raiseClientEvent(this.ClientSideEvents.OnFiltering,c,!a)==false)return}var d=this.getFilterExpression();this.ClientFilterExpressionContainer.value=a==false?d:"";(typeof b=="undefined"||b==false)&&this.setFilterButtonsConfiguration("2,3,4");this.PageSelector.value=0;this.initiateCallback()};oboutGrid.prototype.removeFilter=function(){this.FilterPosition==1&&this.hideFilter();this.clearFilterFields();this.ClientFilterExpressionContainer.value="";if(this.FilterPosition==1||this.FilterContainer.style.display=="none")this.setFilterButtonsConfiguration("1");else this.setFilterButtonsConfiguration("2,3");this.filter(true,true)};oboutGrid.prototype.clearFilterFields=function(){for(var b=0;b<this.ColumnsCollection.length;b++){var a=this.ColumnsCollection[b];if(a.DataField!=""&&a.AllowFilter==true){for(var d=this.getCurrentFilterControls(a),c=0;c<d.length;c++)this.setValueOfFilterControl(d[c].Control,d[c].PropertyName,"");a.FilterOptionsDDL&&a.FilterOptionsDDL.value(a.DefaultFilterOptionID);a.HasCustomFilterOptionsWithTemplates&&this.loadFilterOptionTemplate(b)}}};oboutGrid.prototype.setFilterButtonsConfiguration=function(a,b){this.FilterShowButton_TemplateId!=""&&this.FilterButton_TemplateId!=""&&this.FilterHideButton_TemplateId!=""&&this.FilterRemoveButton_TemplateId!=""&&this.restoreFilterButtonsTemplates();this.FilteringButtonsConfigurationContainer.value=a;if(b==true){this.FilterButtonsContainer&&this.updateFilterButtonsConfiguration("",a);this.TopFilterButtonsContainer&&this.updateFilterButtonsConfiguration("Top",a)}};oboutGrid.prototype.updateFilterButtonsConfiguration=function(d,g){var b=this;this.clearChildren(this[d+"FilterButtonsContainer"],true);for(var f=g.split(","),c=0;c<f.length;c++){var a=null;switch(f[c]){case"1":if(this.FilterShowButton_TemplateId=="")a=this.createFilterButton(function(){b.showFilter()},this.ID+".showFilter();",this.Localization_ButtonShowFilter);else a=this.getFilterButtonTemplateHtml(1);break;case"2":if(this.FilterButton_TemplateId=="")a=this.createFilterButton(function(){b.filter()},this.ID+".filter();",this.Localization_ButtonFilter);else a=this.getFilterButtonTemplateHtml(2);break;case"3":if(this.FilterHideButton_TemplateId=="")a=this.createFilterButton(function(){b.hideFilter()},this.ID+".hideFilter();",this.Localization_ButtonHideFilter);else a=this.getFilterButtonTemplateHtml(3);break;case"4":if(this.FilterRemoveButton_TemplateId=="")a=this.createFilterButton(function(){b.removeFilter()},this.ID+".removeFilter();",this.Localization_ButtonRemoveFilter);else a=this.getFilterButtonTemplateHtml(4)}if(c>0){var e=document.createElement("SPAN");e.className="ob_gFBSp";var h=document.createTextNode(" | ");e.appendChild(h);this[d+"FilterButtonsContainer"].appendChild(e)}this[d+"FilterButtonsContainer"].appendChild(a)}};oboutGrid.prototype.restoreFilterButtonsTemplates=function(){if(this.FilteringButtonsConfigurationContainer.value)for(var c=this.FilteringButtonsConfigurationContainer.value.split(","),a=0;a<c.length;a++){var b=this.FilterButtonsTemplatesContainer.childNodes[c[a]-1];a>0&&this.FilterButtonsContainer.removeChild(this.FilterButtonsContainer.childNodes[1]);this.clearChildren(b);while(this.FilterButtonsContainer.childNodes[1].firstChild)b.appendChild(this.FilterButtonsContainer.childNodes[1].firstChild);this.FilterButtonsContainer.removeChild(this.FilterButtonsContainer.childNodes[1])}};oboutGrid.prototype.createFilterButton=function(c,b,d){var a=document.createElement("A");a.className=this.CSSActionLinkFooter;if(this.CallbackMode==true){a.onclick=function(){c();return false};a.href="javascript: //"}else a.href="javascript: "+b;a.innerHTML=d;return a};oboutGrid.prototype.getFilterButtonTemplateHtml=function(a){var b=document.createElement("SPAN");while(this.FilterButtonsTemplatesContainer.childNodes[a-1].firstChild)b.appendChild(this.FilterButtonsTemplatesContainer.childNodes[a-1].firstChild);return b};oboutGrid.prototype.getFilterButtonsConfiguration=function(){return this.FilteringButtonsConfigurationContainer.value};oboutGrid.prototype.executeOnCallbackFilterEvents=function(){this.FilterButtonsContainer=oboutUtils.getById(this.ElementsClientIds.FooterFilterLinksContainerID);this.TopFilterButtonsContainer=oboutUtils.getById(this.ElementsClientIds.TopFooterFilterLinksContainerID);this.ClientFilterExpressionContainer=oboutUtils.getById(this.ElementsClientIds.ClientFilterExpressionContainerID);if(this.FilterButtonsTemplatesContainer!=null)this.FilterButtonsTemplatesContainer=oboutUtils.getById(this.ElementsClientIds.FilterButtonsTemplatesContainerID)};oboutGrid.prototype.getCurrentFilterControls=function(a){var e=[];if(a.CurrentFilterOptionTemplateContainer==null||a.CurrentFilterOptionTemplateContainer==a.FilterOptionsDefaultTemplateContainer){var b={};b.Control=a.FilterControl;b.PropertyName=a.FilterControlPropertyName;e.push(b)}else for(var i=a.CurrentFilterOptionTemplateContainer.childNodes[0].innerHTML,h=a.CurrentFilterOptionTemplateContainer.childNodes[1].innerHTML,d=i.split(","),g=h.split(","),j=[],c=0;c<d.length;c++){var b=oboutUtils.getById(d[c]);if(b==null)b=eval(d[c]);var f={};f.Control=b;f.PropertyName=g[c];e.push(f)}return e};oboutGrid.prototype.getValueOfCurrentFilterControls=function(d){for(var b=this.getCurrentFilterControls(d),c=[],a=0;a<b.length;a++)c.push(this.urlEncode(this.xmlCdataDecode(this.getValueOfFilterControl(b[a].Control,b[a].PropertyName))));return c};oboutGrid.prototype.getValueOfFilterControl=function(a,b){return a?typeof a[b]=="function"?a[b]():a[b]:null};oboutGrid.prototype.setValueOfFilterControl=function(c,b,a){if(a=="true"||a=="false")a=a=="true"?true:false;else if(a==""&&b=="checked")a=false;if(c)if(typeof c[b]=="function")c[b](a);else c[b]=a};oboutGrid.prototype.clearFilterCriteriaTexboxes=function(){for(var b=this.getFirstColumnIndex(),a=0;a<this.ColumnsCollection.length;a++)this.ColumnsCollection[a].DataField!=""&&this.ColumnsCollection[a].AllowFilter==true&&this.setValueOfFilterControl(this.ColumnsCollection[a].FilterControl,this.ColumnsCollection[a].FilterControlPropertyName,"")};oboutGrid.prototype.getColumnsWithFilterControls=function(){for(var b=[],c=0;c<this.ColumnsCollection.length;c++){var a=this.ColumnsCollection[c],d=null;if(a.AllowFilter)d=this.getCurrentFilterControls(a);b[c]={};b[c].Option=a.FilterOptionsDDL?a.FilterOptionsDDL.value():a.DefaultFilterOptionID;b[c].Controls=d;b[c].Values=a.CurrentFilterValues;if(a.DataField){b[a.DataField]={};b[a.DataField].Option=b[c].Option;b[a.DataField].Controls=d;b[a.DataField].Values=a.CurrentFilterValues}}return b};oboutGrid.prototype.addFilterCriteria=function(b,c,d){if(this.FilterCriterias==null)this.FilterCriterias=[];var a={};a.ColumnName=b;a.Criteria=c;a.Value=d;this.FilterCriterias.push(a)};oboutGrid.prototype.executeFilter=function(){if(this.FilterCriterias!=null)for(var b=0;b<this.FilterCriterias.length;b++)for(var a=0;a<this.ColumnsCollection.length;a++)if(this.FilterCriterias[b].ColumnName==this.ColumnsCollection[a].DataField){this.FilterCriteriaForColumnIndex=a;this.ColumnsCollection[a].ShowFilterCriterias&&this.ColumnsCollection[a].FilterOptionsDDL.value(this.FilterCriterias[b].Criteria);this.setValueOfFilterControl(this.ColumnsCollection[a].FilterControl,this.ColumnsCollection[a].FilterControlPropertyName,this.FilterCriterias[b].Value);break}this.FilterType=="Normal"&&this.showFilter();window.setTimeout(this.ID+".filter(false, false);",300);this.FilterCriterias=null};oboutGrid.prototype.temporaryClearFilterInterfaceControls=function(){for(var a=0;a<this.ColumnsCollection.length;a++){this.ColumnsCollection[a].FilterOptionsDDL&&this.ColumnsCollection[a].FilterOptionsDDL.temporaryClearText();this.ColumnsCollection[a].FilterControl&&typeof this.ColumnsCollection[a].FilterControl.temporaryClearText=="function"&&this.ColumnsCollection[a].FilterControl.temporaryClearText()}};oboutGrid.prototype.onFTBKeyDown=function(b,a){a==13&&this.filter();return a!=13};oboutGrid.prototype.onFTBKeyPress=function(b,a){return a!=13};oboutGrid.prototype.onFODdlChange=function(a){this.loadFilterOptionTemplate(a)};oboutGrid.prototype.loadFilterOptionTemplate=function(g){var a=this.ColumnsCollection[g];if(a.FilterOptionsDDL)var h=a.FilterOptionsDDL.value();else var h=a.DefaultFilterOptionID;for(var f="",c=0;c<a.FilterOptionsTemplates.length;c++)if(h==a.FilterOptionsTemplates[c][0]){f=a.FilterOptionsTemplates[c][1];break}if(a.FilterOptionsDefaultTemplateContainer==null){this.createDefaultFilterOptionTemplate(a);if(a.CurrentFilterOptionTemplateContainer==null)a.CurrentFilterOptionTemplateContainer=a.FilterOptionsDefaultTemplateContainer}var d=false,b;if(f){b=oboutUtils.getById(f);d=true}else if(a.CurrentFilterOptionTemplateContainer!=a.FilterOptionsDefaultTemplateContainer){b=a.FilterOptionsDefaultTemplateContainer;d=true}if(d){var e=this.getFilterControlsContainer(g);if(a.CurrentFilterOptionTemplateContainer.childNodes.length>0)a.CurrentFilterOptionTemplateContainer.insertBefore(e.firstChild,a.CurrentFilterOptionTemplateContainer.firstChild);else a.CurrentFilterOptionTemplateContainer.appendChild(e.firstChild);e.appendChild(b.firstChild);a.CurrentFilterOptionTemplateContainer=b}};oboutGrid.prototype.createDefaultFilterOptionTemplate=function(a){var b=document.createElement("DIV");a.FilterOptionsDefaultTemplateContainer=b;this.FilterOptionsTemplatesContainer.appendChild(a.FilterOptionsDefaultTemplateContainer)};oboutGrid.prototype.removeDefaultFilterTemplate=function(c){var a=this.ColumnsCollection[c];if(a.FilterOptionsDefaultTemplateContainer==null){var d=document.createElement("DIV");a.FilterOptionsDefaultTemplateContainer=d;this.FilterOptionsTemplatesContainer.appendChild(a.FilterOptionsDefaultTemplateContainer)}var b=this.getFilterControlsContainer(c);while(b.firstChild)a.FilterOptionsDefaultTemplateContainer.appendChild(b.firstChild)};OboutGridFilterCriteria=function(){};OboutGridFilterCriteria.init=function(){OboutGridFilterCriteria.NoFilter=0;OboutGridFilterCriteria.Contains=1;OboutGridFilterCriteria.DoesNotContain=2;OboutGridFilterCriteria.StartsWith=3;OboutGridFilterCriteria.EndsWith=4;OboutGridFilterCriteria.EqualTo=5;OboutGridFilterCriteria.NotEqualTo=6;OboutGridFilterCriteria.SmallerThan=7;OboutGridFilterCriteria.GreaterThan=8;OboutGridFilterCriteria.SmallerThanOrEqualTo=9;OboutGridFilterCriteria.GreaterThanOrEqualTo=10;OboutGridFilterCriteria.IsNull=11;OboutGridFilterCriteria.IsNotNull=12;OboutGridFilterCriteria.IsEmpty=13;OboutGridFilterCriteria.IsNotEmpty=14};try{if(Sys)Sys.Application&&Sys.Application.notifyScriptLoaded()}catch(ex){}var oboutGridFMJSLoaded=true;