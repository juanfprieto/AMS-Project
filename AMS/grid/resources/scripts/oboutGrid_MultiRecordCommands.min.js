oboutGrid.prototype.saveAll=function(){var c,b;if(this.OnBeforeClientInsert!=null){for(var d=[],a=0;a<this.TopRecordsInAddMode;a++){b=false;c=true;if(a==this.RecordInEditMode||this.RecordInEditMode==null&&a==0&&this.NewRecordPosition!=1){b=true;c=false}d.push(this.getRecordValuesAsObject(a,b,c))}for(var e=this.getBodyRowCount(),a=e-1;a>=e-this.RecordsInAddMode;a--){b=false;c=true;if(a==this.RecordInEditMode||this.RecordInEditMode==null&&a==e-1&&this.NewRecordPosition==1){b=true;c=false}d.push(this.getRecordValuesAsObject(a,b,c))}if(this.raiseClientEvent(this.OnBeforeClientInsert,d,true)==false)return}if(this.OnBeforeClientUpdate!=null){var f=this.RecordInEditMode;this.RecordInEditMode!=null&&this.updateTemporaryRecord();for(var h=[],a=0;a<this.RecordsTemporaryEdited.length;a++){b=false;c=true;h.push(this.getRecordValuesAsObject(this.RecordsTemporaryEdited[a],b,c))}this.RecordInEditMode;if(this.raiseClientEvent(this.OnBeforeClientUpdate,h,true)==false){f&&this.editRecord(f);return}}if(this.OnBeforeClientDelete!=null){for(var g=[],a=0;a<this.RecordsTemporaryDeleted.length;a++)g.push(this.getRecordValuesAsObject(this.RecordsTemporaryDeleted[a],false));if(this.raiseClientEvent(this.OnBeforeClientDelete,g,true)==false)return}this.NewRecordLine!=null&&this.insertTemporaryRecord(false,this.RowEditTemplateId!="");this.RecordInEditMode!=null&&this.updateTemporaryRecord();this.showMultiRecordsSaveCancelButtons(false);this.executeCommand(-1,"MULTIPLE",true);this.cancelTrackedChanges()};oboutGrid.prototype.cancelAll=function(){this.NewRecordLine!=null&&this.cancelNewRecord();this.RecordInEditMode!=null&&this.cancelEdit(this.RecordInEditMode);this.cancelTrackedChanges();this.loadGridBodyFromViewState();this.showMultiRecordsSaveCancelButtons(false);this.AllowRecordSelection==true&&this.selectRecordsAfterCancelingMultiRecordActions()};oboutGrid.prototype.cancelTrackedChanges=function(){this.RecordsInAddMode=0;this.TopRecordsInAddMode=0;this.RecordsTemporaryEdited=[];this.RecordsTemporaryDeleted=[]};oboutGrid.prototype.markRecordAsEdited=function(a){if(!this.isNewTempRecord(a)){var b=","+this.RecordsTemporaryEdited.join(",")+",";b.indexOf(","+a+",")==-1&&this.RecordsTemporaryEdited.push(a)}};oboutGrid.prototype.isTemporaryEditedRecord=function(b){var a=","+this.RecordsTemporaryEdited.join(",")+",";return a.indexOf(","+b+",")!=-1?true:false};oboutGrid.prototype.markRecordAsDeleted=function(a){var b=","+this.RecordsTemporaryDeleted.join(",")+",";b.indexOf(","+a+",")==-1&&this.RecordsTemporaryDeleted.push(a)};oboutGrid.prototype.unmarkRecordAsDeleted=function(b){var a=","+this.RecordsTemporaryDeleted.join(",")+",";a=a.replace(","+b+",",",");a=a.substr(1,a.length-2);if(a!="")this.RecordsTemporaryDeleted=a.split(",");else this.RecordsTemporaryDeleted=[]};oboutGrid.prototype.isNewTempRecord=function(a){if(this.RowEditTemplateId!=""&&this.NewRecordLine!=null)a++;return this.getBodyRowCount()-this.RecordsInAddMode<=a||a<this.TopRecordsInAddMode?true:false};oboutGrid.prototype.saveGridBodyViewState=function(){this.GridBodyViewState=this.getBodyTableBody().cloneNode(true);this._gridBodyViewStateHeight=this.getBodyTableBody().offsetHeight;this.GridBodyViewStateIsSaved=true;this.IsTrackingGridBodyViewState=true};oboutGrid.prototype.cancelGridBodyViewStateTracking=function(){this.GridBodyViewState=null;this.GridBodyViewStateIsSaved=false;this.IsTrackingGridBodyViewState=false};oboutGrid.prototype.loadGridBodyFromViewState=function(){var b=this.getBodyTable();b.removeChild(this.getBodyTableBody());b.appendChild(this.GridBodyViewState);this.assignBodyEvents();this.GridBodyViewState=null;this.GridBodyViewStateIsSaved=false;this.IsTrackingGridBodyViewState=false;for(var a=0;a<this.ColumnsCollection.length;a++){this.ColumnsCollection[a].WidhtHasChangedDuringBodyViewStateTracking&&this.resizeBodyColumn(a,this.ColumnsCollection[a].Width);if(this.ColumnsCollection[a].VisibilityHasChangedDuringBodyViewStateTracking)if(this.ColumnsCollection[a].Visible)this.showBodyColumn(a);else this.hideBodyColumn(a);this.ColumnsCollection[a].WidhtHasChangedDuringBodyViewStateTracking=false;this.ColumnsCollection[a].VisibilityHasChangedDuringBodyViewStateTracking=false}if(this.NewRecordPosition!=1)this.GridBodyContainer.firstChild.firstChild.style.height=this._gridBodyViewStateHeight+"px"};oboutGrid.prototype.attemptToHideSaveCancelButtons=function(){var a=true;if(this.AllowMultiRecordAdding&&(this.RecordsInAddMode>0||this.TopRecordsInAddMode>0))a=false;if(this.AllowMultiRecordEditing&&this.RecordsTemporaryEdited.length>0)a=false;if(this.AllowMultiRecordDeleting&&this.RecordsTemporaryDeleted.length>0)a=false;if(a==true){this.showMultiRecordsSaveCancelButtons(false);this.cancelGridBodyViewStateTracking()}};oboutGrid.prototype.getColumnMultiRecordTemplate=function(d,e){for(var c=false,b=0;b<this.ColumnMultiRecordTemplateSettingsContainer.childNodes.length;b++)if(this.ColumnMultiRecordTemplateSettingsContainer.childNodes[b].id.indexOf("CMRTS_"+d)!=-1){c=true;break}if(c){var a=this.ColumnMultiRecordTemplateSettingsContainer.childNodes[b];switch(e){case"ModifyTemporaryEditedRecord":return a.childNodes[0];break;case"CancelTemporaryEditedRecord":return a.childNodes[1];break;case"ModifyTemporaryAddedRecord":return a.childNodes[2];break;case"CancelTemporaryAddedRecord":return a.childNodes[3];break;case"RemoveTemporaryAddedRecord":return a.childNodes[4];break;case"UndeleteTemporaryDeletedRecord":return a.childNodes[5]}}};try{if(Sys)Sys.Application&&Sys.Application.notifyScriptLoaded()}catch(ex){};